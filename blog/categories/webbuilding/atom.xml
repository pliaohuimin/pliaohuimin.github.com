<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: WebBuilding | Min's Lounger]]></title>
  <link href="http://pliaohuimin.github.io/blog/categories/webbuilding/atom.xml" rel="self"/>
  <link href="http://pliaohuimin.github.io/"/>
  <updated>2014-10-30T14:07:11+08:00</updated>
  <id>http://pliaohuimin.github.io/</id>
  <author>
    <name><![CDATA[Mr.Liao]]></name>
    <email><![CDATA[pliaohuimin@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[添加博客头像]]></title>
    <link href="http://pliaohuimin.github.io/blog/20140811/add-profilepic/"/>
    <updated>2014-08-11T15:57:00+08:00</updated>
    <id>http://pliaohuimin.github.io/blog/20140811/add-profilepic</id>
    <content type="html"><![CDATA[<p>新安装了<a href="https://github.com/shashankmehta/greyshade">greyshade</a>主题。</p>

<p>好奇于其他使用这个主题的其它博客，有头像的展示。一直找不到在哪设置。
原来还有<a href="http://en.gravatar.com/">gravatar</a>这种东西，通过邮箱来显示头像。只要设置好邮箱，并在gravatar服务上注册相应邮箱，上传头像就可以了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[申请了新域名]]></title>
    <link href="http://pliaohuimin.github.io/blog/20140808/new-domain/"/>
    <updated>2014-08-08T14:01:00+08:00</updated>
    <id>http://pliaohuimin.github.io/blog/20140808/new-domain</id>
    <content type="html"><![CDATA[<p>今天下定决心买了域名：<a href="http://www.minlh.com/">http://www.minlh.com/</a></p>

<p>之前用的是.tk免费域名，但总觉得打开页面很卡，不知道跟域名是否有关,还是使用github的原因。
可是打开github时也不觉得特别卡，考虑一下，觉得还是买个.com的域名比较靠谱些，反正也不算太贵。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在新机器上使用octopress写文章]]></title>
    <link href="http://pliaohuimin.github.io/blog/20140805/new-machine-to-octopress/"/>
    <updated>2014-08-05T18:57:00+08:00</updated>
    <id>http://pliaohuimin.github.io/blog/20140805/new-machine-to-octopress</id>
    <content type="html"><![CDATA[<p><a href="http://www.cnblogs.com/oec2003/archive/2013/05/27/3100896.html">主要参考来源</a></p>

<ol>
<li><p>安装git</p></li>
<li><p>从github上面克隆代码到本机特定目录。</p>

<blockquote><p>git clone -b source git@github.com:pliaohuimin/pliaohuimin.github.com.git</p></blockquote></li>
<li><p>安装<a href="http://rubyinstaller.org/downloads/">RUBY</a> 1.9.3。记得勾选“Add Ruby executables to your PATH”，将Ruby的执行路径加入到环境变量中，如果忘记勾选，也可以手动设置</p></li>
<li><p>安装<a href="http://cloud.github.com/downloads/oneclick/rubyinstaller/DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe">DevKit</a>，将其解压到D:/DevKit，有两点需要注意：</p>

<p>  解压目录中没有有中文和空格；</p>

<p>  必须先安装Ruby，而且Ruby需要是RubyInstallser安装。</p>

<p>  解压DevKit后，在命令行输入以下命令来进行安装：</p>

<blockquote><p>d:</p>

<p>cd DevKit</p>

<p>ruby dk.rb init</p>

<p>ruby dk.rb install</p></blockquote></li>
<li><p>安装Python</p></li>
<li><p>安装<a href="https://pypi.python.org/pypi/setuptools">easy_install</a>,</p>

<p> For Windows 7 and earlier, download ez_setup.py using your favorite web browser or other technique and &ldquo;run&rdquo; that file.</p></li>
<li><p>安装pygments</p>

<p> easy_install会安装在Python安装目录的Scripts目录中，例如我的Python目录是C:\Python27，所以需要将C:\Python27\Scripts目录加入到环境变量中才能在命令提示符中使用easy_install命令。</p>

<p> 在命令提示符中输入如下命令就可以安装Pygments了。</p>

<blockquote><p>easy_install pygments</p></blockquote></li>
<li><p>然后需要安装Octopress的依赖项，安装依赖项需要用到Ruby的gem，使用下面的命令可以更换gem的更新源，使用国内的淘宝镜像速度相对快点。</p>

<blockquote><p>gem sources -a <a href="http://ruby.taobao.org/">http://ruby.taobao.org/</a></p>

<p>gem sources -r <a href="http://rubygems.org/">http://rubygems.org/</a></p>

<p>gem sources -l</p></blockquote>

<p> 修改Octopress目录下的Gemfile文件，将第一行的<a href="http://rubygems.org/">http://rubygems.org/</a> 修改为<a href="http://ruby.taobao.org/">http://ruby.taobao.org/</a></p>

<p> 在命令提示符中进入到Octopress目录，输入下面命令进行依赖项的安装</p>

<blockquote><p>gem install bundler</p>

<p>bundle install</p></blockquote></li>
<li><p>在Octopress中添加文章
 使用下面命令可以在Octopress中添加文章</p>

<blockquote><p>rake new_post[&lsquo;post name&rsquo;]</p></blockquote>

<p> 注意，rake new_post[&lsquo;my first octopress blog&rsquo;]中的my first octopress blog 并不是博客标题，而是和生成的文件名以及url地址有关，该名称不支持中文。博客标题可以在生成的markdown文件中修改。生成的markdown文件在octopress/source/_posts目录中。</p>

<p> 编辑markdown文件，将标题可以修改为中文标题，还可以设置分类等信息以及编写正文部分</p>

<p> 每次执行了添加博客的命令，或是修改了现有博客的内容后，都要执行下面命令进行重新生成静态网页</p>

<blockquote><p>rake generate</p></blockquote></li>
<li><p>发布到外网
创建<em>deploy目录,将上一层的.git目录拷贝到</em>deploy下。将主干checkout出来。只需要操作一下，以后可以直接部署。</p>

<blockquote><p>git checkout master</p></blockquote>

下面指令帮你把生成的静态网页更新到主干master上去。

<blockquote><p>rake deploy</p></blockquote></li>
</ol>


<p>done
输入rake preview，可以直接localhost:4000来进行预览</p>

<h2>问题：</h2>

<p>1.执行rake generate时，报错
YAML Exception reading 2012-07-21-8.textile: invalid byte sequence in GBK
YAML Exception reading 2012-07-22-13.textile: invalid byte sequence in GBK
YAML Exception reading 2012-07-23-20.textile: invalid byte sequence in GBK
YAML Exception reading 2012-07-28-35.textile: invalid byte sequence in GBK</p>

<p><a href="http://changfengmingzhi.blog.163.com/blog/static/16710528820131013103511364/">1解决方法</a>：
找到你的Ruby安装目录，如我的是：D:\Ruby193, 在里面找到文件D:\Ruby193\lib\ruby\gems\1.9.1\gems\jekyll-0.12.0\lib\jekyll\convertible.rb
在该文件中找到下面句子：</p>

<blockquote><p>   def read_yaml(base, name)</p>

<pre><code> self.content = File.read(File.join(base, name))
</code></pre></blockquote>

<p>将它修改为：</p>

<blockquote><p>   def read_yaml(base, name)</p>

<pre><code> self.content = File.read(File.join(base, name),:encoding=&gt;"utf-8")
</code></pre></blockquote>

<p>然后确保所有带中文字符的markdown文件是无BOM的UTF-8格式即可。</p>

<p>2.解决问题1后，执行rake generate时，继续报错
Liquid Exception: incompatible character encodings: UTF-8 and GBK in index.html</p>

<p>将</p>

<pre><code>&gt;export LC_ALL=zh_CN.UTF-8 
&gt;export LANG=zh_CN.UTF-8
</code></pre>

<p>放到~/.bash_profile中，并执行：</p>

<pre><code>&gt;source ~/.bash_profile
</code></pre>

<p>在cmd窗口执行，chcp 65001
然后继续在cmd窗口执行(不可以在bash窗口执行，估计只对当前窗口有效,而bash窗口又无法执行chcp命令）：</p>

<pre><code>&gt;rake generate
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[octopress小工具]]></title>
    <link href="http://pliaohuimin.github.io/blog/20130902/add-share/"/>
    <updated>2013-09-02T21:00:00+08:00</updated>
    <id>http://pliaohuimin.github.io/blog/20130902/add-share</id>
    <content type="html"><![CDATA[<h3>添加一键共享</h3>

<p>我目前使用的是bshare。<br/>
在<em>config.yml中增加bshare: true。在“source/</em>includes/post”下的sharing.html中增加如下代码：</p>

<pre><code>&lt;a class="bshareDiv" href="http://www.bshare.cn/share"&gt;Sharing&lt;/a&gt;&lt;script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#uuid=25fcdf85-62f9-400e-b053-627f102edf5a&amp;style=999&amp;img=http%3A%2F%2Fstatic.bshare.cn%2Fimages%2Fbuttons%2Fbox-shareTo-zh.gif&amp;w=147&amp;h=21"&gt;&lt;/script&gt;
</code></pre>

<p>上述的代码由bshare产生，可以自己选择所需的外观。这样，在每一篇文章的最下方会出现一个分享的小工具。</p>

<h3>添加DISQUC评论</h3>

<p>首先需要在Disqus注册一个账号，登录后添加站点信息，将填写的short_name写到<em>config.yml中，并将</em>config.yml中的disqus_show_comment_count设置为true.如下：</p>

<pre><code># Disqus Comments
disqus_short_name: liao   # liao为添加站点信息时的Site Shortname
disqus_show_comment_count: true
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[赞一个OCTOPRESS的ARCHIVE展示]]></title>
    <link href="http://pliaohuimin.github.io/blog/20130902/octopress-archive/"/>
    <updated>2013-09-02T16:05:00+08:00</updated>
    <id>http://pliaohuimin.github.io/blog/20130902/octopress-archive</id>
    <content type="html"><![CDATA[<p>感觉挺好的，对于之前发布过的文章，简洁，一目了然。<br/>
之前还在琢磨着要不要给这些文章分目录，现在看来要重新考虑一下分目录的必要性。</p>
]]></content>
  </entry>
  
</feed>
